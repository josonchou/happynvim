import{g as p,a as i}from"./storage-52c56912.js";const u=["content-security-policy","content-security-policy-report-only","x-webkit-csp","x-content-security-policy"],{RuleActionType:o,HeaderOperation:d,ResourceType:r}=chrome.declarativeNetRequest,c=[{id:1,action:{type:o.MODIFY_HEADERS,responseHeaders:u.map(e=>({operation:d.REMOVE,header:e}))},condition:{urlFilter:"|http*",resourceTypes:[r.MAIN_FRAME,r.SUB_FRAME]}}],a=(e,t)=>{t&&e.csp_http_disabled===(t==null?void 0:t.csp_http_disabled)||(e.csp_http_disabled?chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:c.map(s=>s.id),addRules:c}):chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:c.map(s=>s.id)}))};p().then(a);i(a);
